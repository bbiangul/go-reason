# GoReason v1 Evaluation Report

## Configuration

| Parameter | Value |
|-----------|-------|
| **Chat Provider** | OpenRouter |
| **Chat Model** | `qwen/qwen3-30b-a3b` |
| **Embedding Provider** | Ollama (local) |
| **Embedding Model** | `nomic-embed-text` (768 dim) |
| **Max Chunk Tokens** | 512 |
| **Chunk Overlap** | 64 |
| **Max Reasoning Rounds** | 3 |
| **Max Retrieval Results** | 20 |
| **Confidence Threshold** | 0.5 |
| **Retrieval Weights** | Vector: 1.0, FTS: 1.0, Graph: 0.5 |

## Document

- **File:** Manual Tecnico ALTAVision AV-FM RevG02.1.pdf
- **Language:** Spanish (technical industrial manual)
- **Pages:** 214

## Dataset: ALTAVision Easy - Single Fact Lookup

| Metric | Value |
|--------|-------|
| **Total Tests** | 30 |
| **Passed** | 28 |
| **Failed** | 2 |
| **Pass Rate** | **93.3%** |
| **Run Time** | ~6.7 minutes (incl. ingestion + 30 queries) |

### Aggregate Metrics

| Metric | Score |
|--------|-------|
| Avg Faithfulness | 0.993 |
| Avg Relevance | 0.128 |
| Avg Accuracy | 0.917 |
| Avg Citation Quality | 0.700 |
| Avg Confidence | 0.948 |

### Category Breakdown

| Category | Faithfulness | Relevance | Accuracy | Citation Quality | Confidence |
|----------|-------------|-----------|----------|-----------------|------------|
| Components (12 tests) | 0.983 | 0.246 | 0.875 | 0.717 | 0.908 |
| Safety (1 test) | 1.000 | 0.000 | 1.000 | 0.700 | 1.000 |
| Specs (17 tests) | 1.000 | 0.053 | 0.941 | 0.688 | 0.974 |

### Token Usage

| Metric | Tokens |
|--------|--------|
| Prompt Tokens | 64,851 |
| Completion Tokens | 18,329 |
| **Total Tokens** | **83,180** |
| Avg Tokens/Query | ~2,773 |

## Failed Tests

### 1. "What processor does the CPU CUBE use?"

- **Expected:** Intel i7
- **Got:** "The provided context does not specify the exact processor..."
- **Accuracy:** 0.0
- **Root Cause:** The information about Intel i7 was either not retrieved or not present in the chunks returned by hybrid search. The model correctly abstained rather than hallucinating.

### 2. "What is the weight of Model C Standard XL?"

- **Expected:** 300 kg
- **Got:** "The provided context does not contain specific information about the weight of Model C Standard XL..."
- **Accuracy:** 0.0
- **Root Cause:** The model found the 300 kg weight in the chunks (mentioned in the answer text) but failed to associate it with "Model C Standard XL". The manual uses Spanish naming conventions that differ from the English query phrasing.

## Detailed Results

| # | Question | Category | Accuracy | Confidence | Tokens | Pass |
|---|----------|----------|----------|------------|--------|------|
| 1 | Operating temperature range | specs | 1.0 | 1.0 | 1,896 | Y |
| 2 | Tracker board part number | components | 1.0 | 1.0 | 3,318 | Y |
| 3 | Equipment operating voltage | specs | 1.0 | 1.0 | 2,212 | Y |
| 4 | Noise emission level | specs | 1.0 | 1.0 | 2,833 | Y |
| 5 | Air pressure requirement | specs | 1.0 | 1.0 | 1,998 | Y |
| 6 | Inspection bridge material | specs | 1.0 | 1.0 | 3,959 | Y |
| 7 | Weight of Model A Standard | specs | 1.0 | 1.0 | 2,455 | Y |
| 8 | IP protection rating | specs | 1.0 | 1.0 | 1,704 | Y |
| 9 | THD level required | specs | 1.0 | 1.0 | 2,638 | Y |
| 10 | Tracker board IP address | components | 1.0 | 1.0 | 4,571 | Y |
| 11 | Subnet mask of the Tracker | components | 1.0 | 1.0 | 2,864 | Y |
| 12 | Fuse rating for Tracker outputs | components | 1.0 | 0.85 | 3,656 | Y |
| 13 | CPU CUBE processor | components | **0.0** | 0.85 | 1,679 | **N** |
| 14 | Preinstalled operating system | components | 0.5 | 0.85 | 1,575 | Y |
| 15 | Encoder part number | components | 1.0 | 1.0 | 3,148 | Y |
| 16 | Trigger sensor part number | components | 1.0 | 1.0 | 2,665 | Y |
| 17 | Standard cap diameter | specs | 1.0 | 1.0 | 2,133 | Y |
| 18 | Tracker board inputs | components | 1.0 | 0.65 | 3,657 | Y |
| 19 | Tracker board outputs | components | 1.0 | 0.85 | 3,938 | Y |
| 20 | Tracker power supply voltage | components | 1.0 | 1.0 | 3,728 | Y |
| 21 | Power consumption without AC | specs | 1.0 | 1.0 | 2,062 | Y |
| 22 | Power consumption with AC | specs | 1.0 | 1.0 | 2,373 | Y |
| 23 | Cut protection level for gloves | safety | 1.0 | 1.0 | 2,434 | Y |
| 24 | Wire gauge for cabling | specs | 1.0 | 0.85 | 2,842 | Y |
| 25 | Cabinet paint color | specs | 1.0 | 0.85 | 1,493 | Y |
| 26 | Protection window glass type | specs | 1.0 | 0.85 | 3,398 | Y |
| 27 | Weight of Model B cabinet | specs | 1.0 | 1.0 | 2,237 | Y |
| 28 | Weight of Model C Standard XL | specs | **0.0** | 1.0 | 2,159 | **N** |
| 29 | Document revision date | specs | 1.0 | 1.0 | 2,776 | Y |
| 30 | Encoder pulses per revolution | components | 1.0 | 0.85 | 4,779 | Y |

## Architecture Stack (v1)

```
Query Flow:
  User Question
    -> Hybrid Retrieval (Vector + FTS5 + Graph, RRF fusion)
    -> Multi-round Reasoning (up to 3 rounds)
    -> Answer with sources

Ingestion Flow:
  PDF File
    -> Native PDF Parser (no LLM)
    -> Semantic Chunker (512 tokens, 64 overlap)
    -> Parallel Embedding (nomic-embed-text, batches of 32)
    -> Graph Extraction (1 LLM call per chunk, concurrency=4)
    -> Community Detection + Summarization
```

## Known Issues

1. **Low Relevance Scores** (avg 0.128): Answers are verbose and include extensive source citations, reducing relevance score. Faithfulness is near-perfect (0.993), indicating the content is correct but verbose.
2. **Cross-language Queries**: English queries against a Spanish document sometimes fail to match naming conventions (e.g., "Model C Standard XL" vs Spanish model designations).
3. **Ingestion Performance**: Graph extraction is the bottleneck â€” 1 LLM call per chunk through OpenRouter adds significant latency.
